<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />

    <!-- Content Security Policy -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://va.vercel-scripts.com; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; connect-src 'self' https://world.openfoodfacts.org https://va.vercel-scripts.com; font-src 'self'; object-src 'none'; base-uri 'self'; form-action 'self';">

    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <link rel="canonical" href="https://freecalorietrack.com/" />
    <meta name="theme-color" content="#10b981" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />

    <title>Free Calorie Track</title>
    <meta name="description" content="The easiest free way to track calories and macros. No paywalls or complex features‚Äîjust a simple, unlimited daily log for your nutrition goals.">
    <meta name="keywords" content="free macro tracker, simple calorie counter, protein tracker, daily food log, unlimited nutrition tracker">
    <meta name="robots" content="index, follow">

    <meta property="og:type" content="website">
    <meta property="og:url" content="https://freecalorietrack.com/">
    <meta property="og:title" content="Free Calorie & Macro Tracker">
    <meta property="og:description" content="Finally, a calorie and macro tracker that is actually free. Simple logging, no ads, and no complicated extras.">
    <meta property="og:image" content="https://freecalorietrack.com/screenshot.png?v=20260114">

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "Free Calorie & Macro Tracker",
      "applicationCategory": "HealthApplication",
      "operatingSystem": "Web",
      "url": "https://freecalorietrack.com/",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "description": "A completely free application for tracking daily calories and macronutrients simply and efficiently."
    }
    </script>

    <style>
      /* Footer Styles */
      .app-footer {
        text-align: center;
        padding: 40px 20px 80px 20px;
        font-family: sans-serif;
        color: #666;
        font-size: 14px;
        background-color: #f9fafb;
        border-top: 1px solid #e5e7eb;
        margin-top: 50px;
      }
      .dark .app-footer {
        background-color: #1f2937;
        border-top: 1px solid #374151;
        color: #9ca3af;
      }
      .gear-section {
        margin-bottom: 20px;
      }
      .gear-section a {
        display: inline-block;
        white-space: nowrap;
      }
      @media (max-width: 640px) {
        .gear-section {
          font-size: 13px;
        }
        .gear-section a {
          margin: 0 5px;
        }
      }
      .footer-link {
        color: #10b981;
        text-decoration: none;
        font-weight: bold;
        margin: 0 10px;
      }
      .footer-link:hover {
        text-decoration: underline;
      }
      .dark .footer-link {
        color: #34d399;
      }
      .bmc-button {
        display: inline-block;
        background-color: #FFDD00;
        color: #000000;
        text-decoration: none;
        font-weight: bold;
        padding: 10px 20px;
        border-radius: 25px;
        font-size: 14px;
        margin-top: 10px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      }
      .disclaimer {
        font-size: 11px;
        color: #999;
        margin-top: 15px;
        display: block;
      }

      /* iOS Popup Styles */
      .ios-prompt {
        display: none;
        position: fixed;
        bottom: 0;
        left: 0;
        width: 100%;
        background: white;
        padding: 20px;
        box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
        z-index: 9999;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        box-sizing: border-box;
        text-align: center;
        border-top: 1px solid #eee;
        padding-bottom: 40px;
      }
      .ios-prompt p {
        margin: 0 0 15px 0;
        color: #333;
        font-size: 15px;
        line-height: 1.4;
      }
      .ios-prompt .close-btn {
        position: absolute;
        top: 10px;
        right: 15px;
        font-size: 24px;
        color: #999;
        cursor: pointer;
        background: none;
        border: none;
        padding: 0;
        line-height: 1;
      }

      /* Desktop Install Banner */
      .desktop-install-banner {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        color: white;
        padding: 12px 20px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.15);
        z-index: 9999;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        box-sizing: border-box;
        text-align: center;
        font-size: 14px;
      }
      .desktop-install-banner .close-btn {
        position: absolute;
        top: 8px;
        right: 15px;
        font-size: 22px;
        color: white;
        cursor: pointer;
        background: none;
        border: none;
        padding: 0;
        line-height: 1;
        opacity: 0.9;
      }
      .desktop-install-banner .close-btn:hover {
        opacity: 1;
      }
      .desktop-install-banner strong {
        font-weight: 600;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>

    <div class="app-footer">

      <div class="gear-section">
        <strong>Top gear picks:</strong><br><br>

        <a href="https://amzn.to/4qNU4Ko" target="_blank" class="footer-link">
          ‚öñÔ∏è Best Digital Food Scale
        </a>

        <span style="color:#ccc">|</span>

        <a href="https://amzn.to/4bquRRF" target="_blank" class="footer-link">
          üç± Best Meal Prep Containers
        </a>
      </div>

      <div style="margin-bottom: 10px; color: #666;">
        <strong>Liking this app?</strong>
      </div>

      <a href="https://buymeacoffee.com/griffs" target="_blank" class="bmc-button">
        ‚òï Buy me a coffee
      </a>

      <div style="margin-top: 20px;">
        <a href="https://tally.so/r/YOUR_LINK_HERE" target="_blank" style="color: #999; text-decoration: none; font-size: 12px;">
          Found a bug? Have an idea?
        </a>
      </div>

      <br><br>
      <small>¬© 2026 Free Calorie Track.</small>
      <span class="disclaimer">As an Amazon Associate I earn from qualifying purchases.</span>
    </div>
    <div id="ios-install-prompt" class="ios-prompt">
      <button class="close-btn" id="ios-close-btn">√ó</button>
      <p><strong>Install as an App:</strong></p>
      <p>1. Tap the <strong>Share</strong> icon <span style="font-size:20px">‚éã</span> below.<br>
      2. Select <strong>"Add to Home Screen"</strong> <span style="font-size:20px">‚äû</span>.</p>
    </div>

    <div id="desktop-install-banner" class="desktop-install-banner">
      <button class="close-btn" id="desktop-close-btn">√ó</button>
      <p style="margin: 0;">
        üì± <strong>Install this app on your phone</strong> for the best experience!
        Open this page on your mobile device and add it to your home screen.
      </p>
    </div>

    <script>
      // Add event listeners for close buttons
      document.addEventListener('DOMContentLoaded', function() {
        // iOS prompt close button
        document.getElementById('ios-close-btn')?.addEventListener('click', function() {
          document.getElementById('ios-install-prompt').style.display = 'none';
        });

        // Desktop banner close button
        document.getElementById('desktop-close-btn')?.addEventListener('click', function() {
          document.getElementById('desktop-install-banner').style.display = 'none';
          localStorage.setItem('desktopBannerDismissed', 'true');
        });
      });

      // 1. Check if user is on iOS
      const isIos = /iphone|ipad|ipod/.test(window.navigator.userAgent.toLowerCase());

      // 2. Check if user is on Android
      const isAndroid = /android/.test(window.navigator.userAgent.toLowerCase());

      // 3. Check if on mobile (iOS or Android)
      const isMobile = isIos || isAndroid;

      // 4. Check if app is already installed (standalone mode)
      const isStandalone = window.navigator.standalone || window.matchMedia('(display-mode: standalone)').matches;

      // 5. Check if desktop banner was dismissed
      const desktopBannerDismissed = localStorage.getItem('desktopBannerDismissed');

      // Show iOS popup ONLY if on iOS and NOT installed
      if (isIos && !isStandalone) {
        setTimeout(() => {
            document.getElementById('ios-install-prompt').style.display = 'block';
        }, 2000);
      }

      // Show desktop banner ONLY if on desktop (not mobile) and not dismissed
      if (!isMobile && !desktopBannerDismissed) {
        setTimeout(() => {
            document.getElementById('desktop-install-banner').style.display = 'block';
        }, 1000);
      }
    </script>
    </body>
</html>
